<!doctype html>
<html lang="en">

<head>
  <!-- Meta -->
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>GoLearn School</title>
  <meta name=description content="GoLearn School&trade; is Malaysia #1 teaching platform to run your tuition business and manage your lessons. Start now for Free!">
  <meta property=og:title content=GoLearn>
  <meta property=og:site_name content=GoLearn>
  <meta property=og:type content=website>
  <meta property=og:url content=https://org.golearn.com.my/school/class/>
  <meta property=og:image content=https://org.golearn.com.my/assets/img/icon-apple-touch-180x180.png>
  <meta property=og:description content="GoLearn School&trade; is Malaysia #1 teaching platform to run your tuition business and manage your lessons. Start now for Free!">
  <link rel=apple-touch-icon sizes=180x180 href=https://org.golearn.com.my/assets/img/icon-apple-touch-180x180.png>
  <link rel=icon type=image/png sizes=32x32 href=https://org.golearn.com.my/assets/img/icon-32x32.png>
  <link rel=icon type=image/png sizes=16x16 href=https://org.golearn.com.my/assets/img/icon-16x16.png>
  <!-- Fonts and icons -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <script src="https://kit.fontawesome.com/2bdd669e92.js" crossorigin="anonymous"></script>
  <!-- Material Kit CSS -->
  <link href="../../assets/css/material-dashboard.css?v=2.1.2" rel="stylesheet" />
  <!-- Firebase Init -->
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-storage.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.4.1/firebase-firestore.js"></script>
  <script src="../../assets/js/firebase.js"></script>
  <script>
    const orgUrl = new URL(window.location.href).searchParams.get("url");
    const orgEnt = new URL(window.location.href).searchParams.get("ent");
    if (orgUrl === null || orgUrl === "" || orgEnt === null || orgEnt === "")
      window.location.href = 'http://org.golearn.com.mym.my/';
  </script>
  <!-- Tutor Portal specific CSS -->
  <link href="../../assets/css/tutor-portal.css" rel="stylesheet"/>
  <!--GL Org CSS -->
  <link href="../../assets/css/golearn-org.css" rel="stylesheet" />
  <!-- Loading -->
  <style>

    .br {
      border-radius: 8px;
    }
    .w30 {
      width: 30%;
    }
    .w50 {
      width: 50%;
    }
    .w80 {
      width: 80%;
    }
    .card {
      border: 2px solid #fff;
      /* box-shadow:0px 0px 10px 0 #a9a9a9; */
      padding: 12px 20px;
      /* width: 80%; */
      /* margin: 50px auto; */
      margin-top: 0.2rem;
    }
    .card-shimmer-wrapper {
      width: 0px;
      animation: fullView 0.5s forwards cubic-bezier(0.250, 0.460, 0.450, 0.940);
    }
    .profilePic {
      height: 60px;
      width: 60px;
      border-radius: 50%;
    }
    .comment {
      height: 10px;
      background: #777;
      margin-top: 15px;
    }

    @keyframes fullView {
      100% {
        width: 100%;
      }
    }

    .animate {
      animation : shimmer 2s infinite linear;
      background: linear-gradient(to right, #eff1f3 4%, #e2e2e2 25%, #eff1f3 36%);
        background-size: 1000px 100%;
    }

    @keyframes shimmer {
      0% {
        background-position: -1000px 0;
      }
      100% {
        background-position: 1000px 0;
      }
    }
  </style>
  <!-- Ribbon -->
  <!-- https://freefrontend.com/css-ribbons/ -->
  <style>
    .ribbon {
      font-size: small;
      position: absolute;
      /* right: var(--right, 10px); */
      /* top: var(--top, -3px); */
      left: var(--left, -3px);
      top: var(--top, 5px);
      filter: drop-shadow(2px 3px 2px rgba(0, 0, 0, 0.2));
    }
    .ribbon > .content {
      color: white;
      font-size: 1rem;
      text-align: center;
      font-weight: 400;
      background: rgba(0, 0, 0, 0.2);
      padding: 8px 2px 4px;
      clip-path: polygon(0 0, 100% 0, 100% 100%, 50% 100%, 0 100%);
      width: var(--width, 32px);
      min-height: var(--height, 32px);
      transition: clip-path 1s, padding 1s, background 1s;
    }
    .ribbon.slant-up > .content {
      clip-path: polygon(0 0, 100% 0, 100% calc(100% - 12px), 50% calc(100% - 6px), 0 100%);
    }
    .ribbon.slant-down > .content {
      clip-path: polygon(0 0, 100% 0, 100% 100%, 50% calc(100% - 6px), 0 calc(100% - 12px));
    }
    /* .ribbon.down > .content {
      clip-path: polygon(0 0, 100% 0, 100% calc(100% - 8px), 50% 100%, 0 calc(100% - 8px));
    } */
    .ribbon.up > .content {
      clip-path: polygon(0 0, 100% 0, 100% 100%, 50% calc(100% - 8px), 0 100%);
    }
    .ribbon.check > .content {
      clip-path: polygon(0 0, 100% 0, 100% calc(100% - 20px), 40% 100%, 0 calc(100% - 12px));
    }
    .ribbon.down > .content {
      /* clip-path: polygon(0 0, 100% 0, 100% calc(100% - 8px), 50% 100%, 0 calc(100% - 8px)); */
      clip-path: polygon(0% 0%, 75% 0%, 100% 50%, 75% 100%, 0% 100%)
    }

  </style>
</head>

<body>

  <div class="hidden" name="lockscreen" style="height:100vh; width:100vw;  background: white; position: absolute; z-index: 1050;">
    <div class="container" style="background: transparent; height: 100vh; display: flex; vertical-align: middle; align-items: center; justify-content: center;">
      <div class="row align-items-center">
        <div class="col-md-6 text-center">
          <h2>Cannot reach!</h2>
          <p>This account is temporarily disabled. Please contact our <a href="https://golearn.com.my/contact-us">support</a> for more details. </p>
          <a href="https://org.golearn.com.my" class="btn btn-outline-primary btn-round"><i class="material-icons" style="color: #2e74b6; margin-right: 0.5em; padding-bottom: 0.2em;">west</i> Back to Home</a>
        </div>
        <div class="col-md-6 mr-auto" style="height: 400px; width: fit-content;">
          <a href="javascript:;" >
            <img class="img" id="tutorImgUrl3" style="height: 100%; width:100%; object-fit: cover; pointer-events: none; " src="https://org.golearn.com.my/assets/img/maintenance.gif"/>
          </a>
        </div>
      </div>
    </div>
  </div>
  <div class="wrapper">
    <div class="sidebar" data-color="purple" data-background-color="white" data-image="../../assets/img/sidebar-3.jpg">
      <div class="logo">
        <a href="../" class="simple-text logo-mini" style="padding: 0.5rem" id="logoName" name="param-link">
        </a>
      </div>
      <div class="sidebar-wrapper">
        <ul class="nav" style="margin-bottom: 50px;">
          <li class="nav-item" perm="home">
            <a class="nav-link" href="../" name="param-link">
              <i class="far fa-chart-bar fa-fw nav-icon"></i>
              <p>Dashboard</p>
            </a>
          </li>
          <li class="nav-item hidden" perm="insight">
            <a class="nav-link" href="../report/" name="param-link">
              <i class="far fa-lightbulb fa-fw nav-icon"></i>
              <p>Insight</p>
            </a>
          </li>
          <li class="nav-item hidden" perm="teach">
            <h4 class="nav-link" style="margin-left: 1rem;">Teaching</h4>
          </li>
          <li class="nav-item hidden active" perm="teach-class">
            <a class="nav-link" href="../class/" name="param-link">
              <i class="fas fa-chalkboard fa-fw nav-icon"></i>
              <p>Classes</p>
            </a>
          </li>
		  		<li class="nav-item hidden" perm="teach-student">
            <a class="nav-link" href="../student/" name="param-link">
              <i class="fas fa-user-graduate fa-fw nav-icon"></i>
              <p>Students</p>
            </a>
          </li>
          <li class="nav-item hidden" perm="teach-teacher">
            <a class="nav-link" href="../teacher/" name="param-link">
              <i class="fas fa-chalkboard-teacher fa-fw nav-icon"></i>
              <p>Teachers</p>
            </a>
          </li>
          <li class="nav-item hidden" perm="fin">
            <h4 class="nav-link" style="margin-left: 1rem;">Financial</h4>
          </li>
          <li class="nav-item hidden" perm="fin-invoice">
            <a class="nav-link" href="../invoice/" name="param-link">
              <i class="fas fa-file-invoice-dollar fa-fw nav-icon"></i>
              <p>Invoices</p>
            </a>
          </li>
          <li class="nav-item hidden" perm="fin-payroll">
            <a class="nav-link" href="../payroll/" name="param-link">
              <i class="fas fa-hand-holding-usd fa-fw nav-icon"></i>
              <p>Payroll <span style="visibility: hidden;">PRO</span></p>
            </a>
          </li>
          <li class="nav-item hidden" perm="fin-transaction">
            <a class="nav-link" href="../transaction/" name="param-link">
              <i class="fas fa-exchange-alt fa-fw nav-icon"></i>
              <p>Transactions</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <a class="navbar-brand" href="javascript:;">Classes</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end">
            <form class="navbar-form">
              <!-- Put empty placeholder here -->
            </form>

            <ul class="navbar-nav">
              <li class="nav-item" id="activationNavItem">
                <a href="#" class="btn btn-primary btn-round btn-sm" style="visibility: hidden;" id="btnActivateAccount"></a>
              </li>
              <li class="nav-item">
                <a class="navbar-brand" href="javascript:;">
                   Hi <span id="user"></span> !
                </a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="javascript:;" id="navbarDropdownNotification" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">notifications</i> Notifications
                </a>
                <!-- <a class="nav-link" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">notifications</i>
                  <span class="notification">5</span>
                  <p class="d-lg-none d-md-block">
                    Some Actions
                  </p>
                </a> -->
								<div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
									<p style="padding: 1em;" >No notification</p>
                  <!-- <a class="dropdown-item" href="#">Mike John responded to your email</a>
                  <a class="dropdown-item" href="#">You have 5 new tasks</a>
                  <a class="dropdown-item" href="#">You're now friend with Andrew</a>
                  <a class="dropdown-item" href="#">Another Notification</a>
                  <a class="dropdown-item" href="#">Another One</a> -->
                </div>
              </li>
              <!-- your navbar here -->

			  			<li class="nav-item dropdown">
                <a class="nav-link" href="javascript:;" id="navbarDropdownProfile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">person</i>
                  <p class="d-lg-none d-md-block">
                    Account
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                  <a class="dropdown-item hidden" href="../settings/" name="param-link" perm="settings">Update Information</a>
                  <a class="dropdown-item hidden" href="../team/" name="param-link" perm="team">Team</a>
									<div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="../../">Back to Home</a>
                  <a class="dropdown-item" href="javascript:;" data-toggle="modal" data-target="#signOutModal" onclick="signOutFunction()" id="btn-logout">Log out</a>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->

			<!-- Modal Start -->


      <!-- Limit Reach modal -->
      <div class="row">
        <div class="modal fade" id="limitReachModal" tabindex="-1" role="dialog" aria-labelledby="limitReachModalLabel" aria-hidden="true">
          <div class="modal-dialog  modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Limit reached!</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" >
                <p>
                  You have reached the maximum number of classes available for your account.
                </p>
                <p>
                  Upgrade to <strong style="color: #2e74b6;">unlock more slots</strong> and enjoy a tonne of <strong style="color: #2e74b6;">other benefits</strong>.
                </p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Not Now</button>
                <a type="button" class="btn btn-primary" id="btnLimitReachModalUpdate" style="color: white;" href="https://golearn.com.my/pricing" target="_blank">Upgrade Now</a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Add Class modal -->
      <div class="row">
        <div class="modal fade" id="addClassModal" tabindex="-1" role="dialog" aria-labelledby="addClassModalLabel" aria-hidden="true">
          <div class="modal-dialog  modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="addClassModalLabel">Add Class</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="btnAddClassModalClose1">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" id="addClassModalBody" style="height: 300px;">
                <div class="container overflow-hidden">
                  <!--multisteps-form-->
                  <div class="multisteps-form">
                    <!--progress bar-->
                    <div class="row">
                      <div class="col-12 col-lg-8 ml-auto mr-auto mb-4">
                        <div class="multisteps-form__progress">
                          <button class="multisteps-form__progress-btn js-active" type="button" title="User Info">User Info</button>
                          <button class="multisteps-form__progress-btn" type="button" title="Address">Address</button>
                          <button class="multisteps-form__progress-btn" type="button" title="Order Info">Order Info</button>
                          <button class="multisteps-form__progress-btn" type="button" title="Comments">Comments        </button>
                        </div>
                      </div>
                    </div>
                    <!--form panels-->
                    <div class="row">
                      <div class="col-12 col-lg-8">
                        <form class="multisteps-form__form" style="height: 300px;">
                          <!--single form panel-->
                          <div class="multisteps-form__panel shadow p-4 rounded bg-white js-active" data-animation="scaleIn">
                            <h3 class="multisteps-form__title">Your User Info</h3>
                            <div class="multisteps-form__content">
                              <div class="form-row mt-4">
                                <div class="col-12 col-sm-6">
                                  <input class="multisteps-form__input form-control" type="text" placeholder="First Name"/>
                                </div>
                                <div class="col-12 col-sm-6 mt-4 mt-sm-0">
                                  <input class="multisteps-form__input form-control" type="text" placeholder="Last Name"/>
                                </div>
                              </div>
                              <div class="form-row mt-4">
                                <div class="col-12 col-sm-6">
                                  <input class="multisteps-form__input form-control" type="text" placeholder="Login"/>
                                </div>
                                <div class="col-12 col-sm-6 mt-4 mt-sm-0">
                                  <input class="multisteps-form__input form-control" type="email" placeholder="Email"/>
                                </div>
                              </div>
                              <div class="form-row mt-4">
                                <div class="col-12 col-sm-6">
                                  <input class="multisteps-form__input form-control" type="password" placeholder="Password"/>
                                </div>
                                <div class="col-12 col-sm-6 mt-4 mt-sm-0">
                                  <input class="multisteps-form__input form-control" type="password" placeholder="Repeat Password"/>
                                </div>
                              </div>
                              <div class="button-row d-flex mt-4">
                                <button class="btn btn-primary ml-auto js-btn-next" type="button" title="Next">Next</button>
                              </div>
                            </div>
                          </div>
                          <!--single form panel-->
                          <div class="multisteps-form__panel shadow p-4 rounded bg-white" data-animation="scaleIn">
                            <h3 class="multisteps-form__title">Your Address</h3>
                            <div class="multisteps-form__content">
                              <div class="form-row mt-4">
                                <div class="col">
                                  <input class="multisteps-form__input form-control" type="text" placeholder="Address 1"/>
                                </div>
                              </div>
                              <div class="form-row mt-4">
                                <div class="col">
                                  <input class="multisteps-form__input form-control" type="text" placeholder="Address 2"/>
                                </div>
                              </div>
                              <div class="form-row mt-4">
                                <div class="col-12 col-sm-6">
                                  <input class="multisteps-form__input form-control" type="text" placeholder="City"/>
                                </div>
                                <div class="col-6 col-sm-3 mt-4 mt-sm-0">
                                  <select class="multisteps-form__select form-control">
                                    <option selected="selected">State...</option>
                                    <option>...</option>
                                  </select>
                                </div>
                                <div class="col-6 col-sm-3 mt-4 mt-sm-0">
                                  <input class="multisteps-form__input form-control" type="text" placeholder="Zip"/>
                                </div>
                              </div>
                              <div class="button-row d-flex mt-4">
                                <button class="btn btn-primary js-btn-prev" type="button" title="Prev">Prev</button>
                                <button class="btn btn-primary ml-auto js-btn-next" type="button" title="Next">Next</button>
                              </div>
                            </div>
                          </div>
                          <!--single form panel-->
                          <div class="multisteps-form__panel shadow p-4 rounded bg-white" data-animation="scaleIn">
                            <h3 class="multisteps-form__title">Your Order Info</h3>
                            <div class="multisteps-form__content">
                              <div class="row">
                                <div class="col-12 col-md-6 mt-4">
                                  <div class="card shadow-sm">
                                    <div class="card-body">
                                      <h5 class="card-title">Item Title</h5>
                                      <p class="card-text">Small and nice item description</p><a class="btn btn-primary" href="#" title="Item Link">Item Link</a>
                                    </div>
                                  </div>
                                </div>
                                <div class="col-12 col-md-6 mt-4">
                                  <div class="card shadow-sm">
                                    <div class="card-body">
                                      <h5 class="card-title">Item Title</h5>
                                      <p class="card-text">Small and nice item description</p><a class="btn btn-primary" href="#" title="Item Link">Item Link</a>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              <div class="row">
                                <div class="button-row d-flex mt-4 col-12">
                                  <button class="btn btn-primary js-btn-prev" type="button" title="Prev">Prev</button>
                                  <button class="btn btn-primary ml-auto js-btn-next" type="button" title="Next">Next</button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!--single form panel-->
                          <div class="multisteps-form__panel shadow p-4 rounded bg-white" data-animation="scaleIn">
                            <h3 class="multisteps-form__title">Additional Comments</h3>
                            <div class="multisteps-form__content">
                              <div class="form-row mt-4">
                                <textarea class="multisteps-form__textarea form-control" placeholder="Additional Comments and Requirements"></textarea>
                              </div>
                              <div class="button-row d-flex mt-4">
                                <button class="btn btn-primary js-btn-prev" type="button" title="Prev">Prev</button>
                                <button class="btn btn-success ml-auto" type="button" title="Send">Send</button>
                              </div>
                            </div>
                          </div>
                        </form>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <!-- <div class="modal-footer">
                <button type="button" class="btn btn-secondary"  data-dismiss="modal" id="btnAddClassModalClose2">Not Now</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnAddClassModalUpdate">Add</button>
              </div> -->
            </div>
          </div>
        </div>
      </div>

      <!-- Sign-out modal -->
      <div class="row">
        <div class="modal fade" id="signOutModal" tabindex="-1" role="dialog" aria-labelledby="signOutModalLabel" aria-hidden="true">
          <div class="modal-dialog  modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="signOutLabel">Logging Out</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" id="signOutModalBody">
                Are you sure you want to continue?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnSignOutModalUpdate">Confirm</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Edit Class Modal -->
       <div class="row">
        <div class="modal fade" id="editClassModal" tabindex="-1" role="dialog" aria-labelledby="editClassModalLabel" aria-hidden="true">
          <div class="modal-dialog  modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="editClassModalLabel">Update Announcement</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-group">
                  <textarea class="form-control" id="modalClassAnnouncement"maxlength="511"  rows="4" placeholder="Write something ..."></textarea>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary hidden" data-dismiss="modal" id="btnEditClassModalUpdate" perm="teach-class-edit">Update</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Main content -->
      <div class="content">
        <div class="container-fluid">
          <!-- your content here -->

          <!-- Main content -->
          <div class="row">
            <!-- Update button -->
            <div class="col-md-12 d-flex flex-row">
              <a href="./add-class.html" class="btn btn-default btn-round hidden" id="btnAddClass" style="pointer-events: none;" name="param-link" perm="teach-class-add">Add Class <i class="material-icons" style="color: white; margin-left: 0.5em; ">east</i></a>
            </div>
            <!-- <div class="col-lg-6 col-md-6 col-sm-6 ">
            </div> -->
          </div>

          <!-- All Class -->
          <div class="row" id="card-all-classes" style="margin-top: 1rem;">

            <div class="col-md-12 card-student">
              <div class="row" >
                <div class="col-md-11" style="padding: 0;">
                  <div class="row" style="margin: 0;">
                    <div class="col-md-4">
                      <h6 style="font-weight: 600; color: #2e74b6; font-size: 0.8rem; margin: 0;" data-toggle="tooltip" title="No info">Class Name</h6>
                    </div>
                    <div class="col-md-4">
                      <h6 style="font-weight: 600; color: #2e74b6; font-size: 0.8rem; margin: 0;" data-toggle="tooltip" title="No info">Class Announcement</h6>
                    </div>
                    <div class="col-md-2">
                      <h6 style="font-weight: 600; color: #2e74b6; font-size: 0.8rem; margin: 0;" data-toggle="tooltip" title="No info">Schedule</h6>
                    </div>
                    <!-- <div class="col-md-2">
                      <h6 style="font-weight: 600; color: #2e74b6; font-size: 0.8rem; margin: 0;" data-toggle="tooltip" title="No info">Teacher</h6>
                    </div> -->
                    <div class="col-md-2">
                      <h6 style="font-weight: 600; color: #2e74b6; font-size: 0.8rem; margin: 0;" data-toggle="tooltip" title="No info">Last Update</h6>
                    </div>
                    <!-- <div class="col-md-1">
                      <h6 style="font-weight: 600; color: #2e74b6; font-size: 0.8rem; margin: 0;" data-toggle="tooltip" title="No info">Status</h6>
                    </div> -->
                  </div>
                </div>
                <div class="col-md-1">
                  <h6 style="font-weight: 600; color: #2e74b6; font-size: 0.8rem; margin: 0;" data-toggle="tooltip" title="No info">Action</h6>
                </div>

              </div>
            </div>

            <!-- Loading block -->
            <div class="card br" id="card-load">
              <div class="card-shimmer-wrapper">
                <div class="row">
                  <div class="col-md-1 col-3">
                    <div class="profilePic animate din"></div>
                  </div>
                  <div class="col-md-11 col-9">
                    <div class="comment br animate w50"></div>
                    <div class="comment br animate w30"></div>
                  </div>
                </div>
                <div class="comment br animate w80"></div>
                <div class="comment br animate"></div>
              </div>
            </div>

            <!-- No data placeholder -->
            <div class="col-md-12 text-center" style="display: none; margin: 1rem;" id="noDataPlaceholder">
              <p>No data</p>
            </div>

            <!-- <div class="col-md-12 card-v1">
              <div class="row ">
                <div class="ribbon down">
                  <div class="content"></div>
                </div>
                <div class="col-md-11">
                  <div class="row" style="margin-bottom: 8px;">
                    <div class="col-md-4">
                      <div class="row">
                        <div class="col-3 text-center">
                          <div style="height: 60px; width: 60px; display: inline-block; overflow: hidden; border-radius: 50%;">
                            <img id="inTutor1ImgUrl" style="height: 100%;width: 100%; object-fit: cover;" src="../../assets/img/empty-photo.png"/>
                          </div>
                        </div>
                        <div class="col-9">
                          <p style="font-size: 1rem; font-weight:400;">Year 3 Std Mathematics asdas asdqw adsadqw adswdqd asda asdq dfewad da <span class="card-v1-status-label active" style="font-size: smaller;">Active</span></p>
                          <p>Cikgu Norhalizah Binti Mahmud</p>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <p style="font-weight: 400;">Class AnnoucementClass AnnoucementClass AnnoucementClass AnnoucementClass Annoucement</p>
                    </div>
                    <div class="col-md-2">
                      <p >Tuesday 8:00am - 9:00am</p>
                    </div>
                    <div class="col-md-2">
                      <p >20/2/2021: Updated by Agnes Liew</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-1">
                  <a href="#" style="margin: 0.1rem; padding: 0.3em; background-color: white;   box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7), 0 0 6px rgba(0, 0, 0, 0.05);" class="btn btn-sm btn-outline-default btn-round" id="btnDelStudent" data-toggle="modal" data-target="#delStuModal" data-id="stuId" >
                    <img id='inUrlGroupIcon' height="22" width="22" src="http://www.google.com/s2/favicons?domain=https://meet.google.com/" style="object-fit: cover; border-radius: 50%; "/>
                  </a>
                  <a href="#" style="margin: 0.1rem; padding: 0.3em;background-color: white;   box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7), 0 0 6px rgba(0, 0, 0, 0.05);" class="btn btn-sm btn-outline-default btn-round" id="btnDelStudent" data-toggle="modal" data-target="#delStuModal" data-id="stuId" >
                    <img id='inUrlGroupIcon' height="22" width="22" src="http://www.google.com/s2/favicons?domain=https://web.whatsapp.com/" style="object-fit: cover; border-radius: 50%; "/>
                  </a>
                  <a href="#" style="margin: 0.1rem; padding: 0.3em;background-color: white;   box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7), 0 0 6px rgba(0, 0, 0, 0.05);" class="btn btn-sm btn-outline-default btn-round" id="btnDelStudent" data-toggle="modal" data-target="#delStuModal" data-id="stuId" >
                    <img id='inUrlGroupIcon' height="22" width="22" src="http://www.google.com/s2/favicons?domain=https://golearn.com.my/" style="object-fit: cover; border-radius: 50%; "/>
                  </a>
                </div>
              </div>
            </div> -->

            <!-- <div class="col-md-12 card-student-item">
              <div class="row">
                <div class="col-md-11" style="padding: 0;">
                  <div class="row" style="margin: 0;">
                    <div class="col-md-2">
                      <p>Year 3 Std Mathematics</p>
                    </div>
                    <div class="col-md-3">
                      <p>Class AnnoucementClass AnnoucementClass AnnoucementClass AnnoucementClass Annoucement</p>
                    </div>
                    <div class="col-md-2">
                      <p >Tuesday 8:00am -</p>
                    </div>
                    <div class="col-md-2">
                      <p>Cikgu Norhalizah Binti Mahmud</p>
                    </div>
                    <div class="col-md-2">
                      <p>20/2/2021: New Annouceement</p>
                    </div>
                    <div class="col-md-1">
                      <p class="card-student-status-label active">ACTIVE</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-1">
                  <a href="#" style="margin: 0.1rem; padding: 0.3em; background-color: white;   box-shadow: 0 6px 10px rgba(0, 0, 0, 0.08), 0 0 6px rgba(0, 0, 0, 0.05);" class="btn btn-sm btn-outline-default btn-round" id="btnDelStudent" data-toggle="modal" data-target="#delStuModal" data-id="stuId" >
                    <img id='inUrlGroupIcon' height="22" width="22" src="http://www.google.com/s2/favicons?domain=https://meet.google.com/" style="object-fit: cover; border-radius: 50%; "/>
                  </a>
                  <a href="#" style="margin: 0.1rem; padding: 0.3em;background-color: white;   box-shadow: 0 6px 10px rgba(0, 0, 0, 0.08), 0 0 6px rgba(0, 0, 0, 0.05);" class="btn btn-sm btn-outline-default btn-round" id="btnDelStudent" data-toggle="modal" data-target="#delStuModal" data-id="stuId" >
                    <img id='inUrlGroupIcon' height="22" width="22" src="http://www.google.com/s2/favicons?domain=https://web.whatsapp.com/" style="object-fit: cover; border-radius: 50%; "/>
                  </a>
                  <a href="#" style="margin: 0.1rem; padding: 0.3em;background-color: white;   box-shadow: 0 6px 10px rgba(0, 0, 0, 0.08), 0 0 6px rgba(0, 0, 0, 0.05);" class="btn btn-sm btn-outline-default btn-round" id="btnDelStudent" data-toggle="modal" data-target="#delStuModal" data-id="stuId" >
                    <img id='inUrlGroupIcon' height="22" width="22" src="http://www.google.com/s2/favicons?domain=https://golearn.com.my/" style="object-fit: cover; border-radius: 50%; "/>
                  </a>
                </div>
              </div>
            </div> -->

          </div>

          <!-- Load More -->
          <div class="row">
            <div class="col-md-12 d-flex flex-row" style="margin-top: 1rem;">
              <a href="javascript:;" class="btn btn-outline-primary btn-round" id="btnClassLoadMore">Load More <i class="material-icons" style="color: #2e74b6; margin-left: 0.5em; padding-bottom: 0.2em;">expand_more</i></a>
            </div>
          </div>
        </div>
      </div>

      <footer class="footer">
        <div class="container-fluid">
          <nav class="float-left">
          <ul>
            <!-- <li>
            <a href="https://golearn.com.my/join-us" target="_blank">
              Visit GoLearn Tutor
            </a>
            </li> -->
          </ul>
          </nav>
        </div>
      </footer>
    </div>

  </div>

  <script src="../../assets/js/core/jquery.min.js"></script>
  <script src="../../assets/js/core/popper.min.js"></script>
  <script src="../../assets/js/core/bootstrap-material-design.min.js"></script>
  <script src="../../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!-- Notifications Plugin -->
  <script src="../../assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Material Dashboard -->
  <script src="../../assets/js/material-dashboard.js?v=2.1.2" type="text/javascript"></script>
  <!-- Common constants -->
  <script src="../../assets/js/common.js" type="text/javascript"></script>
  <!-- General Info -->
  <script src="../../assets/js/const.js" type="text/javascript"></script>
  <!-- Core Js -->
  <script src="../../assets/js/org-core.js" type="text/javascript"></script>

	<script>

    // Course-specific var
    var allCourseSize;

    var latestClassDoc = null;// Store last document - Used for Class Load More btn
    // Session Storage data
    var docsObj = [];

    const btnAddClass = document.getElementById("btnAddClass");

    //---------- Load all class details ----------//
    // Lesson Load More Button - Init
    const classLoadmore = document.querySelector('#btnClassLoadMore');
    classLoadmore.style.visibility='hidden';
    const classLoadMoreHandleClick = () =>{
      loadAllClassInfo();
    }
    classLoadmore.addEventListener('click', classLoadMoreHandleClick );

    // Check if user logged on
    AuthCheck();

    // Page Specific Initialization
    function loadPageInitFunc(){
      // Load all classes
      loadAllClassInfo();
    }

    // Tutor Specific
    function loadAllClassInfo(){
      var docRef = db.collection("dev")
          .doc("v2")
          .collection("Class")
          // .where("adminId", "==", ent_id)
          .where(CLASS_TUTOR_ID_ARR, "array-contains", ent_id)
          .where(STATUS_KEY, "==", true)
          .orderBy(CLASS_STATUS, 'asc')
          .orderBy(CLASS_NAME, 'asc')
          .startAfter(latestClassDoc)
          .limit(50);

      let adminClassNum = 0;

      docRef
      .get()
      .then((querySnapshot) => {
        console.log(querySnapshot.size)
        document.getElementById("card-load").style.display = "none";

        if (( querySnapshot == null || querySnapshot.size == 0) && latestClassDoc == null){
          document.getElementById("noDataPlaceholder").style.display = 'initial';
        }else{
          document.getElementById("noDataPlaceholder").style.display = 'none';
        }

        if (querySnapshot.empty){
          // Load empty data
        }else {
          querySnapshot.forEach((doc) => {
            // console.log(doc.data())
            docsObj.push(doc.data());
            renderAllActiveClasses(doc, "", false);

            // Increment adminClassNum if the user own this class
            if (ent_id == doc.data()[CLASS_ADMIN_ID]){
              adminClassNum = adminClassNum + 1;
            }
          });
        }

        sessionStorage.setItem(SESSION_STORAGE_CLASS_ALL_DOCS_KEY, JSON.stringify(docsObj));
        sessionStorage.setItem(SESSION_STORAGE_CLASS_CURRENT_DOC_KEY, null);
        sessionStorage.setItem(SESSION_STORAGE_CLASS_CURRENT_DOC_ID_KEY, null);
        sessionStorage.setItem(SESSION_STORAGE_CLASS_LOAD_KEY, false);
        // Store all docs data to sessionStorage. If loadmore is clicked, we concat the newly loaded and previous docs.
        let allObjList = null;
        // Set the fields
        allObjList = JSON.parse(sessionStorage.getItem(SESSION_STORAGE_TRANSACTION_ALL_DOCS_KEY));
        if (allObjList == null ){
          // console.log("First time loading the data");
          sessionStorage.setItem(SESSION_STORAGE_CLASS_ALL_DOCS_KEY, JSON.stringify(docsObj));
          sessionStorage.setItem(SESSION_STORAGE_CLASS_CURRENT_DOC_KEY, null);
          sessionStorage.setItem(SESSION_STORAGE_CLASS_CURRENT_DOC_ID_KEY, null);
          sessionStorage.setItem(SESSION_STORAGE_CLASS_LOAD_KEY, false);
        }
        else{
          // console.log("Nth time loading the data");
          allObjList = allObjList.concat(docsObj);
          sessionStorage.setItem(SESSION_STORAGE_CLASS_ALL_DOCS_KEY, JSON.stringify(docsObj));
          sessionStorage.setItem(SESSION_STORAGE_CLASS_CURRENT_DOC_KEY, null);
          sessionStorage.setItem(SESSION_STORAGE_CLASS_CURRENT_DOC_ID_KEY, null);
          sessionStorage.setItem(SESSION_STORAGE_CLASS_LOAD_KEY, false);
        }

        // Store actual class num in obj
        // sessionStorage.setItem(SESSION_STORAGE_CLASS_NUM_KEY, adminClassNum);

        // Load more handling
        latestClassDoc = querySnapshot.docs[querySnapshot.size - 1];
        // console.log(querySnapshot.size)
        // console.log(latestClassDoc.data())

        // Handle Lesson Load more btn
        if (querySnapshot.empty){
          classLoadmore.removeEventListener('click', classLoadMoreHandleClick );
        }
        if (querySnapshot.size == 50){
          classLoadmore.style.visibility='visible';
        }else{
          classLoadmore.style.visibility='hidden';
        }
      })

      // Limit classes to be added
      .then(() => {
        btnAddClass.classList.add('btn-primary'); // btnAddClass.className = "btn btn-primary btn-round";
        btnAddClass.classList.remove('btn-default');

        btnAddClass.style.pointerEvents = "auto";
        btnAddClass.setAttribute("onclick", "window.location = './add-class.html';");

        // console.log(sessionStorage.getItem(SESSION_STORAGE_CLASS_NUM_KEY))
        // if (current_accountStatus == DEACTIVATED_ACCOUNT_STATUS_KEY ||
        //   current_accountStatus == ACTIVE_ACCOUNT_STATUS_KEY){
        //   // Note: ClassNum_Active = ClassNum_Deactivated
        //   if (adminClassNum >= ClassNum_Active){
        //     btnAddClass.className = "btn btn-default btn-round";
        //     btnAddClass.style.pointerEvents = "auto";
        //     btnAddClass.setAttribute("data-toggle", "modal");
        //     btnAddClass.setAttribute("data-target", "#limitReachModal");
        //   }else {
        //     btnAddClass.className = "btn btn-primary btn-round";
        //     btnAddClass.style.pointerEvents = "auto";
        //     btnAddClass.setAttribute("onclick", "window.location = './add-class.html';");
        //   }
        // }
        // else if (current_accountStatus == PREMIUM_ACCOUNT_1_STATUS_KEY || current_accountStatus == PREMIUM_ACCOUNT_1_ACTIVE_STATUS_KEY){
        //   if (adminClassNum >= ClassNum_Premium1){
        //     btnAddClass.className = "btn btn-default btn-round";
        //     btnAddClass.style.pointerEvents = "auto";
        //     btnAddClass.setAttribute("data-toggle", "modal");
        //     btnAddClass.setAttribute("data-target", "#limitReachModal");
        //   }else {
        //     btnAddClass.className = "btn btn-primary btn-round";
        //     btnAddClass.style.pointerEvents = "auto";
        //     btnAddClass.setAttribute("onclick", "window.location = './add-class.html';");
        //   }
        // }
        // else if (current_accountStatus == PREMIUM_ACCOUNT_2_STATUS_KEY || current_accountStatus == PREMIUM_ACCOUNT_2_ACTIVE_STATUS_KEY ||
        //   current_accountStatus == PREMIUM_ACCOUNT_3_STATUS_KEY || current_accountStatus == PREMIUM_ACCOUNT_3_ACTIVE_STATUS_KEY){
        //   // Note: ClassNum_Premium2 = ClassNum_Premium3
        //   if (adminClassNum >= ClassNum_Premium2){
        //     btnAddClass.className = "btn btn-default btn-round";
        //     btnAddClass.style.pointerEvents = "auto";
        //     btnAddClass.setAttribute("data-toggle", "modal");
        //     btnAddClass.setAttribute("data-target", "#limitReachModal");
        //   }else {
        //     btnAddClass.className = "btn btn-primary btn-round";
        //     btnAddClass.style.pointerEvents = "auto";
        //     btnAddClass.setAttribute("onclick", "window.location = './add-class.html';");
        //   }
        // }
        // else {
        //   // Deactivated or other status
        //   btnAddClass.className = "btn btn-default btn-round";
        //   btnAddClass.style.pointerEvents = "auto";
        //   btnAddClass.setAttribute("data-toggle", "modal");
        //   btnAddClass.setAttribute("data-target", "#limitReachModal");
        // }

        // Update Role View
        updateRoleView()
      });

    };


    function renderAllActiveClasses(doc, courseId, renderNull){
      // <div class="col-md-12 card-v1">
      //   <div class="row ">
      //     <div class="ribbon down">
      //       <div class="content">OK</div>
      //     </div>
      //     <div class="col-md-11">
      //       <div class="row" style="margin-bottom: 8px;">
      //         <div class="col-md-5">
      //           <div class="row">
      //             <div class="col-3 text-center">
      //               <div style="height: 60px; width: 60px; display: inline-block; overflow: hidden; border-radius: 50%;">
      //                 <img id="inTutor1ImgUrl" style="height: 100%;width: 100%; object-fit: cover;" src="../../assets/img/empty-photo.png"/>
      //               </div>
      //             </div>
      //             <div class="col-9">
      //               <p style="font-size: 1rem; font-weight:400;">Year 3 Std Mathematics asdas asdqw adsadqw adswdqd asda asdq dfewad da <span class="card-v1-status-label active" style="font-size: smaller;">Active</span></p>
      //               <p>Cikgu Norhalizah Binti Mahmud</p>
      //             </div>
      //           </div>
      //         </div>
      //         <div class="col-md-3">
      //           <p style="font-weight: 400;">Class AnnoucementClass AnnoucementClass AnnoucementClass AnnoucementClass Annoucement</p>
      //         </div>
      //         <div class="col-md-2">
      //           <p >Tuesday 8:00am - 9:00am</p>
      //         </div>
      //         <div class="col-md-2">
      //           <p >20/2/2021: Updated by Agnes Liew</p>
      //         </div>
      //       </div>
      //     </div>
      //     <div class="col-md-1">
      //       <a href="#" style="margin: 0.1rem; padding: 0.3em; background-color: white;   box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7), 0 0 6px rgba(0, 0, 0, 0.05);" class="btn btn-sm btn-outline-default btn-round" id="btnDelStudent" data-toggle="modal" data-target="#delStuModal" data-id="stuId" >
      //         <img id='inUrlGroupIcon' height="22" width="22" src="http://www.google.com/s2/favicons?domain=https://meet.google.com/" style="object-fit: cover; border-radius: 50%; "/>
      //       </a>
      //       <a href="#" style="margin: 0.1rem; padding: 0.3em;background-color: white;   box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7), 0 0 6px rgba(0, 0, 0, 0.05);" class="btn btn-sm btn-outline-default btn-round" id="btnDelStudent" data-toggle="modal" data-target="#delStuModal" data-id="stuId" >
      //         <img id='inUrlGroupIcon' height="22" width="22" src="http://www.google.com/s2/favicons?domain=https://web.whatsapp.com/" style="object-fit: cover; border-radius: 50%; "/>
      //       </a>
      //       <a href="#" style="margin: 0.1rem; padding: 0.3em;background-color: white;   box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.7), 0 0 6px rgba(0, 0, 0, 0.05);" class="btn btn-sm btn-outline-default btn-round" id="btnDelStudent" data-toggle="modal" data-target="#delStuModal" data-id="stuId" >
      //         <img id='inUrlGroupIcon' height="22" width="22" src="http://www.google.com/s2/favicons?domain=https://golearn.com.my/" style="object-fit: cover; border-radius: 50%; "/>
      //       </a>
      //     </div>
      //   </div>
      // </div>

      // Class Name
      // Profile picture
      let img = document.createElement("img");
      img.setAttribute("style", "height: 100%;width: 100%; object-fit: cover;");
      if (doc.data()[CLASS_IMG_URL] == null || doc.data()[CLASS_IMG_URL] == "")
        img.src = "https://org.golearn.com.my/assets/img/empty-photo.png";
      else
        img.src = doc.data()[CLASS_IMG_URL];

      let img_div = document.createElement("div");
      img_div.setAttribute("style", "height: 60px; width: 60px; display: inline-block; overflow: hidden; border-radius: 50%;");
      img_div.appendChild(img);
      let img_div_top = document.createElement("div")
      img_div_top.className = "col-3 text-center";
      img_div_top.appendChild(img_div);
      // <img id="inTutor1ImgUrl" style="height: 100%;width: 100%; object-fit: cover;" src="../../assets/img/empty-photo.png"/>
      // Name and Teacher
      let status_html = "";
      if (doc.data()[CLASS_STATUS] === CLASS_STATUS_ACTIVE){
        status_html = "<span class='card-v1-status-label active' style='font-size: smaller;'>Active</span>";
      }else{
        status_html = "<span class='card-v1-status-label pending' style='font-size: smaller;'>Inactive</span>";
      }
      let className_p = document.createElement('p');
      className_p.innerHTML = doc.data()[CLASS_NAME] +" "+ status_html;
      className_p.setAttribute("style", "font-size: 1rem; font-weight:400;");
      let classOwner_p = document.createElement('p');
      let teacherText = '';
      if (doc.data()[CLASS_TUTOR_NAME_ARR][1] == null || doc.data()[CLASS_TUTOR_NAME_ARR][1] == ""){
        // Check if second teacher existed
        teacherText = doc.data()[CLASS_TUTOR_NAME_ARR][0];
      }else {
        teacherText = doc.data()[CLASS_TUTOR_NAME_ARR][0]+", "+doc.data()[CLASS_TUTOR_NAME_ARR][1];
      }
      classOwner_p.textContent = teacherText;
      let name_div_top = document.createElement('div');
      name_div_top.className = "col-9";
      name_div_top.appendChild(className_p);
      name_div_top.appendChild(classOwner_p);

      let className_child_row = document.createElement('div');
      className_child_row.className = "row";
      className_child_row.appendChild(img_div_top);
      className_child_row.appendChild(name_div_top);

      let className_div = document.createElement('div');
      className_div.className = "col-md-4";
      className_div.appendChild(className_child_row);

      // Announcement
      let announcement_p = document.createElement('p');
      announcement_p.textContent = (doc.data()[CLASS_ANNOUNCEMENT] == null || doc.data()[CLASS_ANNOUNCEMENT] == "") ? "No recent announcement" : doc.data()[CLASS_ANNOUNCEMENT];
      announcement_p.setAttribute("style", " font-weight:400;");
      let announcement_div = document.createElement('div');
      announcement_div.className = "col-md-4";
      announcement_div.appendChild(announcement_p);


      // Timeslot
      let myDayOfWeekId = MyDayOfWeekId;
      let myDayOfWeek = MyDayOfWeek;
      let timeslot = '';
      let startTime, endTime = '';

      for (let i = 0; i<doc.data()[CLASS_TIMESLOT_DAY_OF_WEEK_ARR].length; i++){
        if (doc.data()[CLASS_TIMESLOT_DAY_OF_WEEK_ARR][i] == null || doc.data()[CLASS_TIMESLOT_DAY_OF_WEEK_ARR][i] == ''){
          continue;
        }

        startTime = doc.data()[CLASS_TIMESLOT_START_ARR][i];
        endTime = doc.data()[CLASS_TIMESLOT_END_ARR][i];
        startTime = (parseInt(startTime.substring(0, 2))>12) ? (parseInt(startTime.substring(0, 2)) - 12) + startTime.substring(2, 5) + 'PM' : startTime + 'AM';
        endTime = (parseInt(endTime.substring(0, 2))>12) ? (parseInt(endTime.substring(0, 2)) - 12) + endTime.substring(2, 5) + 'PM' : endTime + 'AM';

        timeslot += myDayOfWeek[myDayOfWeekId.indexOf(doc.data()[CLASS_TIMESLOT_DAY_OF_WEEK_ARR][i])] +' '+startTime+'-'+endTime;
        // console.log
        if (i == doc.data()[CLASS_TIMESLOT_DAY_OF_WEEK_ARR].length - 1){
          // Last item
        }else{
          timeslot += ', '
        }
      }
      let timeslot_p = document.createElement('p');
      timeslot_p.textContent = timeslot;
      // timeslot_p.setAttribute("style", " font-weight:400;");
      let timeSlot_div = document.createElement('div');
      timeSlot_div.className = "col-md-2";
      timeSlot_div.appendChild(timeslot_p);

      // Teacher
      // let tutor_p = document.createElement('p');
      // tutor_p.textContent = doc.data()[CLASS_TUTOR_NAME_ARR][0];
      // let tutor_div = document.createElement('div');
      // tutor_div.className = "col-md-2";
      // tutor_div.appendChild(tutor_p);

      // Last Update
      let lastUpdate_p = document.createElement('p');
      lastUpdate_p.textContent = doc.data()[CLASS_DATE_EDIT].toDate().toLocaleDateString("en-GB") + ': '+ doc.data()[CLASS_EDIT_MSG] ;
      lastUpdate_p.setAttribute("style", "font-style: italic");
      let lastUpdate_div = document.createElement('div');
      lastUpdate_div.className = "col-md-2";
      lastUpdate_div.appendChild(lastUpdate_p);


      // Student Detail
      let detail_div = document.createElement('div');
      detail_div.className = 'row';
      detail_div.appendChild(className_div);
      detail_div.appendChild(announcement_div);
      detail_div.appendChild(timeSlot_div);
      // detail_div.appendChild(tutor_div);
      detail_div.appendChild(lastUpdate_div);
      // detail_div.appendChild(status_div);
      let detail_top_div = document.createElement('div');
      detail_top_div.className = "col-md-11";
      detail_top_div.setAttribute("style","margin-bottom: 0px;");
      detail_top_div.setAttribute("onclick","editClassFunction(this)");
      detail_top_div.setAttribute("data-id", doc.data().id);
      detail_top_div.appendChild(detail_div);

      //Buttons
      let btn_div = document.createElement('div');
      btn_div.className = "col-md-1";

      urlArray = [CLASS_CLASS_URL, CLASS_CHAT_GROUP_URL, CLASS_MATERIAL_URL];
      urlArray.forEach((item) => {
        // console.log(item);

        let UrlGroupUrl = '';
        let UrlGroupFaviconUrl = ''
        if (isValidHttpUrl(doc.data()[item])){
          UrlGroupUrl = doc.data()[item];
          let uri = checkDomainNameException(UrlGroupUrl)
          UrlGroupFaviconUrl = uri;
          // UrlGroupFaviconUrl = "http://www.google.com/s2/favicons?domain="+doc.data()[item];
        }else{
          UrlGroupUrl = 'javascript:;';
          UrlGroupFaviconUrl = "https://org.golearn.com.my/assets/img/broken-link.png";
        }

        let urlGroupHtml = '';
        urlGroupHtml += "<img height='22' width='22' src=" + UrlGroupFaviconUrl + " style='object-fit: cover; border-radius: 50%;'/>";
        let btn_a = document.createElement('a');
        btn_a.innerHTML = urlGroupHtml;
        btn_a.className = "btn btn-sm btn-danger btn-round";
        btn_a.setAttribute("href", UrlGroupUrl);
        btn_a.setAttribute("target", 'blank');
        btn_a.setAttribute("style","margin: 0.1rem; padding: 0.3em; background-color: white; box-shadow: 2px 2px 4px rgba(46, 46, 46, 0.8);");

        if (isValidHttpUrl(doc.data()[item])){
          btn_div.appendChild(btn_a);
        }else{

        }

      });

      //Announcement btn
      let btn_announcement = document.createElement('a');

      let blogsHtml_btn = '';
      // blogsHtml_btn = "<i class='fas fa-bullhorn fa-fw fa-1x'></i>";
      if (doc.data()[CLASS_STATUS] === CLASS_STATUS_ACTIVE){
        blogsHtml_btn = "<span class='fa-stack' style='vertical-align: top; cursor: pointer; margin: 0; padding: 0; width:22px; '><i class='fas fa-circle fa-stack-2x fa-inverse fa-fw'></i><i class='fas fa-bullhorn  fa-fw fa-stack-1x'></i></span>";
        btn_announcement.setAttribute("data-target","#editClassModal");
      }else{
        blogsHtml_btn = "<span class='fa-stack' style='vertical-align: top; cursor: pointer; margin: 0; padding: 0; width:22px; '><i class='fas fa-bullhorn  fa-fw fa-stack-1x'></i><i class='fas fa-ban fa-stack-2x' style='color:Tomato'></i></span>";
      }

      btn_announcement.innerHTML = blogsHtml_btn;
      btn_announcement.className = "btn btn-primary btn-sm btn-round hidden";
      btn_announcement.setAttribute("style","background-color: white; color: #2e74b6; margin: 0.1rem; padding: 0.2rem; box-shadow: 2px 2px 4px rgba(46, 46, 46, 0.8);");
      btn_announcement.setAttribute("data-toggle","modal");
      btn_announcement.setAttribute("data-id", doc.data().id);
      btn_announcement.setAttribute("perm","teach-class-edit");
      if (doc.data().announcement == '' || doc.data().announcement == null){
        btn_announcement.setAttribute("data-announcement",  "");
      }else{
        btn_announcement.setAttribute("data-announcement",  doc.data().announcement);
      }
      btn_div.appendChild(btn_announcement);

      // Ribbon
      let contentDiv = document.createElement('div');
      contentDiv.className = "content";
      contentDiv.textContent = doc.data()[CLASS_LABEL_TEXT];
      contentDiv.style.background = doc.data()[CLASS_LABEL_COLOR];
      let ribbonDiv = document.createElement('div');
      ribbonDiv.className = "ribbon down";
      ribbonDiv.appendChild(contentDiv);

      // Student Top
      let card_div = document.createElement('div');
      card_div.className = "row"
      card_div.appendChild(detail_top_div);
      card_div.appendChild(btn_div);
      if (doc.data()[CLASS_LABEL_ENABLE])
        card_div.appendChild(ribbonDiv);


      // card temp
      // let cardTemp = document.createElement('div');
      // cardTemp.className = "card-v1 card-kpm"
      // cardTemp.appendChild(card_div);

      // Card top
      let card_top_div = document.createElement('div');
      // card_top_div.className = "col-md-12 card-student-item" older
      card_top_div.className = "col-md-12 card-v1"
      card_top_div.appendChild(card_div);

      const card_all_students = document.getElementById("card-all-classes");
      card_all_students.appendChild(card_top_div);
    }

    // Check if valid url. Return true if valid.
    function isValidHttpUrl(string) {
      let url;
      try {
        url = new URL(string);
      } catch (_) {
        return false;
      }
      return true;
    }


  </script>

  <script>
		$( document ).ready(function() {

      // Class Announcement
      // KEY, DATETIME, ID, JOB_STATUS and JOB_EXPLANATION var is global var used to simplify modal fire and hide.
      var KEY = ""; // Extract info from data-* attributes
      var DATETIME = ""; // Extract info from data-* attributes
      var ID = ""; // Extract info from data-* attributes
      var ANNOUNCEMENT = ""; // Extract info from data-* attributes

      // Update Class Annoucement
      $('#btnEditClassModalUpdate').on('click', function (e) {
        var docData = {
          [CLASS_ANNOUNCEMENT]: document.getElementById("modalClassAnnouncement").value,
          // [CLASS_DATE_ADD]: '',
          [CLASS_DATE_EDIT]: new Date(),
          // [CLASS_DATE_DEL]: '',
          [CLASS_EDIT_MSG]: 'New announcement from '+ role_empName, // Update: CLASS_DATE_EDIT + CLASS_EDIT_MSG
        }
        // Set data
        db.collection("dev")
          .doc("v2")
          .collection("Class")
          .doc(ID)
          .set(docData, {merge: true})
          .then(() => {
            window.location.reload()
          })
          .catch((error) => {
              console.error("Error writing document: ", error);
          });;

			  $('#editClassModal').modal('hide');
		  });

      $('#editClassModal').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget) // Button/Components that triggered the modal
        ID = button.data('id') // Extract info from data-* attributes
        ANNOUNCEMENT = button.data('announcement') // Extract info from data-* attributes
        // Load Desription
        document.getElementById("modalClassAnnouncement").textContent = ANNOUNCEMENT;

      });

      // Clear key and fields in modal when modal dismiss
      $('#editClassModal').on('hide.bs.modal', function (event) {
        ID = "";
        ANNOUNCEMENT = "";
        document.getElementById("modalClassAnnouncement").textContent = "";
      });



			// // Add New Course
			// $("#btnAddClass").click(function(){
      //   window.location = "./add-class.html"

      //   // if (current_accountStatus == DEACTIVATED_ACCOUNT_STATUS_KEY || current_accountStatus == SUSPENDED_ACCOUNT_STATUS_KEY){
      //   //   func.showNotification('top','center', 'danger', 'error_outline', "Activate your account to add new courses." );
      //   // }else if  (allCourseSize >= current_aTotalSubjectLimit){
      //   //   func.showNotification('top','center', 'danger', 'error_outline', "You have reach maximum ("+current_aTotalSubjectLimit+") subjects. Upgrade to Pro now!" );
      //   // }else if (current_preferedAreaList == null || current_preferedAreaList.length == 0){
      //   //   func.showNotification('top','center', 'danger', 'error_outline', "Please fill in Update Information > Preferred Area");
      //   // }
      //   // else{
      //   //   window.location = "./add-class.html"
      //   // }
			// });

		});

  </script>

  <!-- More functions -->
  <script>

    function editClassFunction(elem){
      window.location.href = './edit-class.html' + "?url=" + orgUrl  +  "&ent=" + orgEnt + "&cid=" + elem.getAttribute('data-id')
    }

  </script>

</body>

</html>